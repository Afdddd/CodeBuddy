<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd" >
<mapper namespace="hboardMapper">
	<resultMap id="hboardResultSet" type="hboard">
		<result column="HBOARD_NO" property="hboardNo"/>
		<result column="HBOARD_TITLE" property="hboardTitle"/>
		<result column="HBOARD_CONTENT" property="hboardContent"/>
		<result column="HBOARD_INSERT" property="hboardInsert"/>
		<result column="HBOARD_UPDATE" property="hboardUpdate"/>
		<result column="HBOARD_DELETE" property="hboardDelete"/>
		<result column="HBOARD_VIEWS" property="hboardViews"/>
		<result column="COMPANY_NO" property="companyNo"/>
		<result column="HBOARD_START" property="hboardStart"/>
		<result column="HBOARD_END" property="hboardEnd"/>
		<result column="HBOARD_SALARY" property="hboardSalary"/>
		<result column="HBOARD_EDUCATION" property="hboardEducation"/>
		<result column="HBOARD_CAREER" property="hboardCareer"/>
		<result column="HBOARD_LOCATION" property="hboardLocation"/>
	</resultMap>
	<resultMap id="hrelationResultSet" type="hrelation">
		<result column="HBOARD_NO" property="hboardNo"/>
		<result column="TAGS_NO" property="tagsNo"/>
	</resultMap>
	
	<insert id="insertBoard" parameterType="hboard">INSERT INTO HBOARD(HBOARD_NO, HBOARD_TITLE, HBOARD_CONTENT, COMPANY_NO, HBOARD_START, HBOARD_END, HBOARD_SALARY, HBOARD_EDUCATION, HBOARD_CAREER, HBOARD_LOCATION) VALUES(SEQ_HBOARD.NEXTVAL, #{hboardTitle}, #{hboardContent}, #{companyNo}, #{hboardStart}, #{hboardEnd}, #{hboardSalary}, #{hboardEducation}, #{hboardCareer}, #{hboardLocation})</insert>
	<insert id="insertTag" parameterType="hrelation">INSERT INTO HRELATION(HBOARD_NO, TAGS_NO) VALUES(SEQ_HBOARD.CURRVAL, (SELECT TAGS_NO FROM TAGS T WHERE T.TAGS_NAME=#{tagsNo}))</insert>
	<insert id="insertThumb" parameterType="hattachment">INSERT INTO HATTACHMENT(HATTACHMENT_NO, HBOARD_NO, HATTACHMENT_ORIGIN, HATTACHMENT_CHANGE, HATTACHMENT_PATH, HATTACHMENT_LEVEL) VALUES(SEQ_HATTACHMENT.NEXTVAL, SEQ_HBOARD.CURRVAL, #{hattachmentOrigin}, #{hattachmentChange}, #{hattachmentPath}, #{hattachmentLevel})</insert>
</mapper>